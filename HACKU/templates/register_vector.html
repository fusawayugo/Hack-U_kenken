{% extends 'navbar.html' %}
{% load static %}
{% block title %}
    撮影
{% endblock %}
{% block content %}
    <iframe id="capture-view" src="/camera/capture" width="640" height="480"></iframe>
    <script>
        var displayDuration = 15000;
        setTimeout(function () {
            document.getElementById("capture-view").contentWindow.stop();
        }, displayDuration);
    </script>
    <form method="post">
        {% csrf_token %}
        <button class="btn btn-outline-dark" type="submit" name="next">ベクトル生成</button>
        <button class="btn btn-outline-dark" type="submit" name="again" id="again_button">再撮影</button>
    </form> 
    <script>
        // ボタンがクリックされたときにページをリロードする関数
        function reloadPage() {
            location.reload(); // ページをリロード
        }

        // ボタンをクリックしたときにリロード関数を呼び出す
        document.getElementById("again_button").addEventListener("click", function(event) {
            event.preventDefault(); // ボタンのデフォルトの動作を無効化（フォームの送信を防ぐ）
            reloadPage(); // ページをリロード
        });
    </script>

{% endblock %}